(()=>{"use strict";let e=document.getElementsByTagName("select");function t(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const o=t[e],n=o.querySelector(".select__options");o.classList.remove("_active"),l(n,100)}}function o(e){const t=e.parentElement,o=e.getAttribute("class"),s=e.querySelector("option:checked");e.setAttribute("data-default",s.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+o+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),function(e){const t=e.parentElement,o=t.querySelector(".select__item"),s=e.querySelectorAll("option"),i=e.querySelector("option:checked").text,c=e.getAttribute("data-type");o&&o.remove();let a="";a="input"==c?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+i+'" data-error="Ошибка" data-value="'+i+'" class="select__input"></div>':'<div class="select__value"><span>'+i+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+a+'</div><div class="select__options">'+function(e){if(e){let t="";for(let o=0;o<e.length;o++){const n=e[o],l=n.value;""!=l&&(t=t+'<div data-value="'+l+'" class="select__option">'+n.text+"</div>")}return t}}(s)+"</div></div></div>"),function(e,t){const o=t.querySelector(".select__item"),s=t.querySelector(".select__options"),i=t.querySelectorAll(".select__option"),c=e.getAttribute("data-type"),a=t.querySelector(".select__input");o.addEventListener("click",(function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const n=e[t],r=n.querySelector(".select__options");n!=o.closest(".select")&&(n.classList.remove("_active"),l(r,100))}r(s,100),t.classList.toggle("_active")}));for(let o=0;o<i.length;o++){const l=i[o],r=l.getAttribute("data-value"),s=l.innerHTML;"input"==c?a.addEventListener("keyup",n):l.getAttribute("data-value")==e.value&&(l.style.display="none"),l.addEventListener("click",(function(){for(let e=0;e<i.length;e++)i[e].style.display="block";"input"==c?(a.value=s,e.value=r):(t.querySelector(".select__value").innerHTML="<span>"+s+"</span>",e.value=r,l.style.display="none")}))}}(e,t)}(e)}function n(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),o=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let n=t[e];(n.textContent||n.innerText).toUpperCase().indexOf(o)>-1?n.style.display="":n.style.display="none"}}e.length>0&&function(){for(let t=0;t<e.length;t++)o(e[t]);document.addEventListener("click",(function(e){t(e)})),document.addEventListener("keydown",(function(e){27==e.which&&t(e)}))}();let l=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},r=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?((e,t=500)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)})(e,t):l(e,t)};const s=document.querySelectorAll('a[href*="#"]');for(let e of s)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href");document.querySelector(""+o).scrollIntoView({behavior:"smooth",block:"start"})}));const i=document.querySelectorAll(".popup-link"),c=document.querySelector("body"),a=document.querySelectorAll(".lock-padding");let d=!0;if(i.length>0)for(let e=0;e<i.length;e++){const t=i[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");u(document.getElementById(o)),e.preventDefault()}))}const p=document.querySelectorAll(".popup-close");if(p.lenght>0)for(let e=0;e<p.length;e++){const t=p[e];t.addEventListener("click",(function(e){y(t.closest("popup")),e.preventDefault()}))}function u(e){if(e&&d){const t=document.querySelector(".popup.open");t?y(t,!0):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";for(let t=0;t<a.length;t++)a[t].style.paddingRight=e;c.style.paddingRight=e,c.classList.add("lock"),d=!1,setTimeout((function(){d=!0}),600)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||y(e.target.closest(".popup"))}))}}function y(e,t=!0){d&&(e.classList.remove("open"),t&&(setTimeout((function(){for(let e=0;e<a.length;e++)a[e].style.paddingRight="0px";c.style.paddingRight="0px",c.classList.remove("lock")}),600),d=!1,setTimeout((function(){d=!0}),600)))}document.addEventListener("keydown",(function(e){27===e.which&&y(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),$(document).ready((function(){$(".header__burger").click((function(e){$(".header__burger,.header__menu").toggleClass("active")}))})),$(document).ready((function(){$(".popup-link").click((function(e){$(".header__burger,.header__menu").toggleClass("active")}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();